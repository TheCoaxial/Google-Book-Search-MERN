(this["webpackJsonpbook-search"]=this["webpackJsonpbook-search"]||[]).push([[0],{37:function(e,t,c){},57:function(e,t,c){},64:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c.n(n),s=c(29),o=c.n(s),a=(c(37),c(17)),i=c(2),j=c(9),l=c(0);var b=function(e){var t=e.children;return console.log(t),Object(l.jsxs)("ul",{className:"lItem",children:[" ",t," "]})},d=c(4);var u=function(e){return Object(l.jsx)("span",Object(d.a)(Object(d.a)({className:"delete-btn"},e),{},{role:"button",tabIndex:"0",children:Object(l.jsx)("p",{style:{color:"red"},children:"X"})}))},O=c(32),h=c(31),x=Object(n.createContext)(),m=x.Provider,v=function(e,t){switch(t.type){case"ADD_BOOK":return Object(d.a)(Object(d.a)({},e),{},{saved:[t.payload],loading:!1});case"FIND_BOOK":return Object(d.a)(Object(d.a)({},e),{},{books:[t.payload],loading:!1});case"REMOVE_BOOK":return Object(d.a)(Object(d.a)({},e),{},{books:e.books.filter((function(t){return e}))});case"UPDATE_BOOK":return Object(d.a)(Object(d.a)({},e),{},{books:Object(h.a)(e.books),loading:!1});case"LOADING":return Object(d.a)(Object(d.a)({},e),{},{loading:!0});default:return e}},f=function(e){e.value;var t=Object(O.a)(e,["value"]),c=Object(n.useReducer)(v,{books:[],currentBook:{_id:0,title:"",authors:"",description:"",image:"",link:""},saved:[],loading:!1}),r=Object(j.a)(c,2),s=r[0],o=r[1];return Object(l.jsx)(m,Object(d.a)({value:[s,o]},t))},g=function(){return Object(n.useContext)(x)},p=c(11),k=c.n(p),y=function(){return k.a.get("/books")},N=function(e){return k.a.delete("/books/"+e)},I=function(e){return k.a.post("/books",e)},B=function(e){return k.a.get("https://www.googleapis.com/books/v1/volumes?q="+e)};var w=function(){var e=g(),t=Object(j.a)(e,2),c=t[0],r=t[1];return Object(n.useEffect)((function(){y("/books").then((function(e){r({type:"LOADING"}),r({type:"ADD_BOOK",payload:e.data}),console.log(e)}))}),[]),Object(l.jsxs)("div",{children:[Object(l.jsx)("h1",{children:"Saved Books"}),Object(l.jsx)("h4",{children:"Click the X to remove a book"}),Object(l.jsx)("br",{}),Object(l.jsx)("div",{children:c.saved[0]?Object(l.jsx)(b,{children:c.saved[0].map((function(e){return Object(l.jsxs)("strong",{children:[console.log("Hi",e),e.title,Object(l.jsx)("br",{}),Object(l.jsx)("img",{src:e.image}),Object(l.jsx)(u,{onClick:function(){return t=e._id,void N(t).then((function(){r({type:"REMOVE_BOOK",_id:t})})).catch((function(e){return console.log(e)}));var t}}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{})]})}))}):Object(l.jsx)("h3",{children:"You haven't added any books yet!"})})]})};var D=function(){return Object(l.jsx)("nav",{className:"navbar navbar-light",children:Object(l.jsxs)("div",{children:[Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsx)("a",{className:"navbar-brand",href:"/",children:"Search"})}),Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsx)("a",{className:"navbar-brand",href:"/saved",children:"Saved"})})]})})};function S(e){return Object(l.jsx)("div",{className:"container",style:e.style,children:e.children})}function C(e){var t=e.size.split(" ").map((function(e){return"col-"+e})).join(" ");return Object(l.jsx)("div",{className:t,children:e.children})}function E(e){return Object(l.jsx)("div",{className:"row",children:e.children})}var _=function(e){var t=e.children;return t.volumeInfo,console.log(t),Object(l.jsxs)("ul",{className:"lItem",children:[" ",t," "]})};var A=function(e){return Object(l.jsx)("span",Object(d.a)(Object(d.a)({className:"btn"},e),{},{role:"button",style:{color:"green",size:"large"},children:"+"}))};var L=function(){var e=Object(n.useState)([]),t=Object(j.a)(e,2),c=t[0],r=t[1],s=g(),o=Object(j.a)(s,2);return o[0],o[1],console.log(c.volumeInfo),Object(l.jsxs)("div",{children:[Object(l.jsx)("h1",{children:"Search for a book!"}),Object(l.jsxs)("form",{className:"form-group mt-4 mb-4",onSubmit:function(e){e.preventDefault();var t=document.getElementById("search").value;B(t).then((function(e){console.log(e.data.items),r(e.data.items),"https://www.google.com/search?q="+c.volumeInfo.title+"&tbm=bks"})).catch((function(e){return console.log(e)}))},children:[Object(l.jsx)("button",{className:"btn btn-success mt-3 mb-4",type:"submit",children:"Search"}),Object(l.jsx)("input",{className:"form-control mb-6",id:"search",placeholder:"Title"})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("h3",{style:{textAlign:"center"},children:"Click the + to add a book to your Saved List"}),c[0]?Object(l.jsx)(_,{children:c.map((function(e){return Object(l.jsx)("div",{children:Object(l.jsxs)("strong",{children:[Object(l.jsx)(A,{onClick:function(){return I(e.id)}}),e.volumeInfo.title,Object(l.jsx)("br",{}),Object(l.jsx)("a",{href:e.volumeInfo.infoLink,children:Object(l.jsx)("img",{src:e.volumeInfo.imageLinks.smallThumbnail})}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),console.log(e.id)]})})}))}):Object(l.jsx)("h3",{style:{textAlign:"center"},children:"Enter A title to search!"})]})]})},K=function(){return Object(l.jsx)(S,{fluid:!0,children:Object(l.jsx)(E,{children:Object(l.jsx)(C,{size:"md-8",children:Object(l.jsx)(L,{})})})})},F=function(){return Object(l.jsx)(S,{fluid:!0,children:Object(l.jsx)(E,{children:Object(l.jsx)(C,{size:"md-8",children:Object(l.jsx)(w,{})})})})};c(57);var T=function(){return Object(l.jsx)(a.a,{children:Object(l.jsx)("div",{children:Object(l.jsxs)(f,{children:[Object(l.jsx)(D,{}),Object(l.jsxs)(i.c,{children:[Object(l.jsx)(i.a,{exact:!0,path:"/",component:K}),Object(l.jsx)(i.a,{exact:!0,path:"/home",component:K}),Object(l.jsx)(i.a,{exact:!0,path:"/saved",component:F})]})]})})})},z=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,65)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,o=t.getTTFB;c(e),n(e),r(e),s(e),o(e)}))};c(63);o.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(T,{})}),document.getElementById("root")),z()}},[[64,1,2]]]);
//# sourceMappingURL=main.37eb4ae9.chunk.js.map