{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\slypx\\\\Desktop\\\\code\\\\HW21\\\\book-search\\\\client\\\\src\\\\components\\\\BookList\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from \"react\";\nimport BookResults from \"../ResultList\";\nimport { ListItem, List } from \"../List\";\nimport DelBtn from \"../DeleteButton\";\nimport { useStoreContext } from \"../../utils/GlobalState\";\nimport API from \"../../utils/API\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction BookList() {\n  _s();\n\n  const [state, dispatch] = useStoreContext();\n\n  const removeBook = id => {\n    API.deleteBook(id).then(() => {\n      dispatch({\n        type: \"REMOVE_BOOK\",\n        _id: id\n      });\n    }).catch(err => console.log(err));\n  };\n\n  console.log(state);\n  useEffect(() => {\n    API.getBooks(\"/books\").then(response => {\n      // console.log(\"Response\" + response)\n      dispatch({\n        type: \"LOADING\"\n      });\n      dispatch({\n        type: \"ADD_BOOK\",\n        payload: response\n      }); //console.log(state.saved[0].data);\n    });\n  }, []);\n  return (\n    /*#__PURE__*/\n    // <div>\n    //     <h1>Saved Books</h1>\n    //     <h3>Click the X to remove a book</h3>\n    //     {console.log(state.saved[0].data[0].title + \"inside\")}\n    // </div>\n    _jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"All Blog Posts\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"mb-5 mt-5\",\n        children: \"Click on a post to view\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), state.posts.length ? /*#__PURE__*/_jsxDEV(List, {\n        children: state.posts.map(post => /*#__PURE__*/_jsxDEV(ListItem, {\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: \"/posts/\" + post._id,\n            children: /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: [post.title, \" by \", post.author]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(DeleteBtn, {\n            onClick: () => removePost(post._id)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 17\n          }, this)]\n        }, post._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"You haven't added any posts yet!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-5\",\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"favorites\",\n          children: \"View favorites\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }, this)\n  );\n}\n\n_s(BookList, \"rQAXY7WJETFBPd/2qDFOpQS/df8=\", false, function () {\n  return [useStoreContext];\n});\n\n_c = BookList;\nexport default BookList;\n\nvar _c;\n\n$RefreshReg$(_c, \"BookList\");","map":{"version":3,"sources":["C:/Users/slypx/Desktop/code/HW21/book-search/client/src/components/BookList/index.js"],"names":["React","useEffect","BookResults","ListItem","List","DelBtn","useStoreContext","API","axios","BookList","state","dispatch","removeBook","id","deleteBook","then","type","_id","catch","err","console","log","getBooks","response","payload","posts","length","map","post","title","author","removePost"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,SAASC,QAAT,EAAmBC,IAAnB,QAA+B,SAA/B;AACA,OAAOC,MAAP,MAAmB,iBAAnB;AACA,SAASC,eAAT,QAAgC,yBAAhC;AACA,OAAOC,GAAP,MAAgB,iBAAhB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;AAIA,SAASC,QAAT,GAAoB;AAAA;;AAChB,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBL,eAAe,EAAzC;;AAEA,QAAMM,UAAU,GAAGC,EAAE,IAAI;AACrBN,IAAAA,GAAG,CAACO,UAAJ,CAAeD,EAAf,EACCE,IADD,CACM,MAAK;AACPJ,MAAAA,QAAQ,CAAC;AACLK,QAAAA,IAAI,EAAE,aADD;AAELC,QAAAA,GAAG,EAAEJ;AAFA,OAAD,CAAR;AAIH,KAND,EAOCK,KAPD,CAOOC,GAAG,IAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAPd;AAQH,GATD;;AAWAC,EAAAA,OAAO,CAACC,GAAR,CAAYX,KAAZ;AAGAT,EAAAA,SAAS,CAAC,MAAM;AACZM,IAAAA,GAAG,CAACe,QAAJ,CAAa,QAAb,EACMP,IADN,CACWQ,QAAQ,IAAI;AAEf;AACAZ,MAAAA,QAAQ,CAAC;AAACK,QAAAA,IAAI,EAAE;AAAP,OAAD,CAAR;AACAL,MAAAA,QAAQ,CAAC;AAACK,QAAAA,IAAI,EAAE,UAAP;AAAmBQ,QAAAA,OAAO,EAAED;AAA5B,OAAD,CAAR,CAJe,CAMf;AACH,KARL;AASH,GAVQ,EAUN,EAVM,CAAT;AAcA;AAAA;AACI;AACA;AACA;AACA;AAGA;AACA;AAAA,8BACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADA,eAEA;AAAI,QAAA,SAAS,EAAC,WAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFA,EAGCb,KAAK,CAACe,KAAN,CAAYC,MAAZ,gBACC,QAAC,IAAD;AAAA,kBACGhB,KAAK,CAACe,KAAN,CAAYE,GAAZ,CAAgBC,IAAI,iBACnB,QAAC,QAAD;AAAA,kCACE,QAAC,IAAD;AAAM,YAAA,EAAE,EAAE,YAAYA,IAAI,CAACX,GAA3B;AAAA,mCACE;AAAA,yBACGW,IAAI,CAACC,KADR,UACmBD,IAAI,CAACE,MADxB;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBADF,eAME,QAAC,SAAD;AAAW,YAAA,OAAO,EAAE,MAAMC,UAAU,CAACH,IAAI,CAACX,GAAN;AAApC;AAAA;AAAA;AAAA;AAAA,kBANF;AAAA,WAAeW,IAAI,CAACX,GAApB;AAAA;AAAA;AAAA;AAAA,gBADD;AADH;AAAA;AAAA;AAAA;AAAA,cADD,gBAcC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAjBF,eAmBA;AAAK,QAAA,SAAS,EAAC,MAAf;AAAA,+BACE,QAAC,IAAD;AAAM,UAAA,EAAE,EAAC,WAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cAnBA;AAAA;AAAA;AAAA;AAAA;AAAA;AARJ;AAgCH;;GA/DQR,Q;UACqBH,e;;;KADrBG,Q;AAiET,eAAeA,QAAf","sourcesContent":["import React, { useEffect } from \"react\";\r\nimport BookResults from \"../ResultList\";\r\nimport { ListItem, List } from \"../List\";\r\nimport DelBtn from \"../DeleteButton\";\r\nimport { useStoreContext } from \"../../utils/GlobalState\";\r\nimport API from \"../../utils/API\";\r\nimport axios from \"axios\";\r\n\r\n\r\n\r\nfunction BookList() {\r\n    const [state, dispatch] = useStoreContext();\r\n   \r\n    const removeBook = id => {\r\n        API.deleteBook(id)\r\n        .then(() =>{\r\n            dispatch({\r\n                type: \"REMOVE_BOOK\",\r\n                _id: id\r\n            });\r\n        })\r\n        .catch(err => console.log(err));\r\n    };\r\n\r\n    console.log(state);\r\n    \r\n    \r\n    useEffect(() => {\r\n        API.getBooks(\"/books\")\r\n             .then(response => {\r\n                \r\n                // console.log(\"Response\" + response)\r\n                dispatch({type: \"LOADING\"});\r\n                dispatch({type: \"ADD_BOOK\", payload: response});\r\n                \r\n                //console.log(state.saved[0].data);\r\n            })\r\n    }, []);\r\n    \r\n\r\n\r\n    return (\r\n        // <div>\r\n        //     <h1>Saved Books</h1>\r\n        //     <h3>Click the X to remove a book</h3>\r\n        //     {console.log(state.saved[0].data[0].title + \"inside\")}\r\n            \r\n            \r\n        // </div>\r\n        <div>\r\n        <h1>All Blog Posts</h1>\r\n        <h3 className=\"mb-5 mt-5\">Click on a post to view</h3>\r\n        {state.posts.length ? (\r\n          <List>\r\n            {state.posts.map(post => (\r\n              <ListItem key={post._id}>\r\n                <Link to={\"/posts/\" + post._id}>\r\n                  <strong>\r\n                    {post.title} by {post.author}\r\n                  </strong>\r\n                </Link>\r\n                <DeleteBtn onClick={() => removePost(post._id)} />\r\n              </ListItem>\r\n            ))}\r\n          </List>\r\n        ) : (\r\n          <h3>You haven't added any posts yet!</h3>\r\n        )}\r\n        <div className=\"mt-5\">\r\n          <Link to=\"favorites\">View favorites</Link>\r\n        </div>\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default BookList;"]},"metadata":{},"sourceType":"module"}