{"ast":null,"code":"import _slicedToArray from\"C:/Users/slypx/Desktop/code/HW21/book-search/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useRef}from\"react\";import{useStoreContext}from\"../../utils/GlobalState\";import ResultListSearch from\"../ResultListSearch\";import API from\"../../utils/API\";import{Link}from\"react-router-dom\";import AddButton from\"../AddButton\";import{Row,Col,Container}from\"../Grid\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function CreateBookSearch(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),books=_useState2[0],setBookData=_useState2[1];var _useStoreContext=useStoreContext(),_useStoreContext2=_slicedToArray(_useStoreContext,2),saved=_useStoreContext2[0],dispatch=_useStoreContext2[1];var searchLink=\"\";var addBook=function addBook(id){API.saveBook(id).then(function(){dispatch({type:\"ADD_BOOK\",_id:id,title:books.volumeInfo.title,author:books.volumeInfo.author,description:books.volumeInfo.description,image:books.volumeInfo.imageLinks.smallThumbnail,link:books.volumeInfo.infoLink});}).catch(function(err){return console.log(err);});};console.log(books.volumeInfo);var handleSubmit=function handleSubmit(event){event.preventDefault();var title=document.getElementById('search').value;;// titleRef.current.value = document.getElementById('search').value;;\nAPI.search(title).then(function(result){console.log(result.data.items);setBookData(result.data.items);searchLink=\"https://www.google.com/search?q=\"+books.volumeInfo.title+\"&tbm=bks\";}).catch(function(err){return console.log(err);});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Search for a book!\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"form-group mt-4 mb-4\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-success mt-3 mb-4\",type:\"submit\",children:\"Search\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control mb-6\",id:\"search\",placeholder:\"Title\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{style:{textAlign:\"center\"},children:\"Click the + to add a book to your Saved List\"}),books[0]?/*#__PURE__*/_jsx(ResultListSearch,{children:books.map(function(books){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"strong\",{children:[/*#__PURE__*/_jsx(AddButton,{onClick:function onClick(){return API.saveBook(books.id);}}),books.volumeInfo.title,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"a\",{href:books.volumeInfo.infoLink,children:/*#__PURE__*/_jsx(\"img\",{src:books.volumeInfo.imageLinks.smallThumbnail})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),console.log(books.id)]})});})}):/*#__PURE__*/_jsx(\"h3\",{style:{textAlign:\"center\"},children:\"Enter A title to search!\"})]})]});}export default CreateBookSearch;","map":{"version":3,"sources":["C:/Users/slypx/Desktop/code/HW21/book-search/client/src/components/searchField/index.js"],"names":["React","useState","useRef","useStoreContext","ResultListSearch","API","Link","AddButton","Row","Col","Container","CreateBookSearch","books","setBookData","saved","dispatch","searchLink","addBook","id","saveBook","then","type","_id","title","volumeInfo","author","description","image","imageLinks","smallThumbnail","link","infoLink","catch","err","console","log","handleSubmit","event","preventDefault","document","getElementById","value","search","result","data","items","textAlign","map"],"mappings":"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","sourcesContent":["import React, {useState, useRef } from \"react\";\r\nimport { useStoreContext } from \"../../utils/GlobalState\";\r\nimport ResultListSearch from \"../ResultListSearch\";\r\nimport API from \"../../utils/API\";\r\nimport { Link } from \"react-router-dom\";\r\nimport AddButton from \"../AddButton\";\r\nimport {Row, Col, Container } from \"../Grid\";\r\n\r\nfunction CreateBookSearch() {\r\n  \r\n  const [books, setBookData] = useState([]);\r\n  const [saved, dispatch] = useStoreContext();\r\n  var searchLink=\"\"\r\n\r\n  const addBook = id => {\r\n    API.saveBook(id)\r\n    .then(() =>{\r\n        dispatch({\r\n            type: \"ADD_BOOK\",\r\n            _id: id,\r\n            title: books.volumeInfo.title ,\r\n            author: books.volumeInfo.author ,\r\n            description: books.volumeInfo.description ,\r\n            image: books.volumeInfo.imageLinks.smallThumbnail ,\r\n            link: books.volumeInfo.infoLink \r\n\r\n        });\r\n\r\n    })\r\n    .catch(err => console.log(err));\r\n  };\r\n\r\n    console.log(books.volumeInfo);\r\n\r\n    \r\n\r\n  const handleSubmit = event => {\r\n    event.preventDefault();\r\n    \r\n     let title= document.getElementById('search').value;;\r\n    // titleRef.current.value = document.getElementById('search').value;;\r\n    API.search(title)\r\n      .then(result => {\r\n           console.log(result.data.items);\r\n          setBookData(result.data.items);\r\n          \r\n\r\n     \r\n        searchLink = \"https://www.google.com/search?q=\"+books.volumeInfo.title+\"&tbm=bks\"\r\n        \r\n      }) \r\n      .catch(err => console.log(err)); \r\n    };\r\n    \r\n\r\n  return (\r\n    <div>\r\n      <h1>Search for a book!</h1>\r\n      <form className=\"form-group mt-4 mb-4\" onSubmit={handleSubmit}>\r\n        \r\n        <button className=\"btn btn-success mt-3 mb-4\"  type=\"submit\">\r\n          Search \r\n        </button>\r\n        <input className=\"form-control mb-6\"  id=\"search\"  placeholder=\"Title\" />\r\n      </form>\r\n      <div>  \r\n        <h3 style={{textAlign:\"center\"}}>Click the + to add a book to your Saved List</h3>\r\n        {books[0] ? (\r\n            <ResultListSearch>\r\n                {/* {console.log(\"Hi\", books )} */}\r\n                {books.map(books => (\r\n                    <div>\r\n                        <strong>\r\n                            {<AddButton onClick={() =>  API.saveBook(books.id)} />}\r\n                            {books.volumeInfo.title} \r\n                            <br></br>\r\n                            <a href={books.volumeInfo.infoLink}>\r\n                            <img  src={books.volumeInfo.imageLinks.smallThumbnail}></img>\r\n                            </a>\r\n                            <br></br>\r\n                            <br></br>\r\n                            {console.log(books.id)}\r\n                        </strong>\r\n                    </div>               \r\n                ))}\r\n            </ResultListSearch>\r\n        ) : (\r\n            <h3 style={{textAlign:\"center\"}}>Enter A title to search!</h3>\r\n        )}\r\n        </div>\r\n    </div>\r\n    \r\n  );\r\n}\r\n\r\nexport default CreateBookSearch;"]},"metadata":{},"sourceType":"module"}