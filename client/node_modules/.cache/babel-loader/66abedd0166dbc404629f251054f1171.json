{"ast":null,"code":"import _slicedToArray from\"C:/Users/slypx/Desktop/code/HW21/book-search/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectWithoutProperties from\"C:/Users/slypx/Desktop/code/HW21/book-search/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import _toConsumableArray from\"C:/Users/slypx/Desktop/code/HW21/book-search/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"C:/Users/slypx/Desktop/code/HW21/book-search/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React,{createContext,useReducer,useContext}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";var StoreContext=/*#__PURE__*/createContext();var Provider=StoreContext.Provider;var reducer=function reducer(state,action){switch(action.type){case\"ADD_BOOK\":return _objectSpread(_objectSpread({},state),{},{saved:[action.payload],loading:false});case\"FIND_BOOK\":return _objectSpread(_objectSpread({},state),{},{books:[action.payload],loading:false});case\"REMOVE_BOOK\":return _objectSpread(_objectSpread({},state),{},{books:state.books.filter(function(book){// return book._id !== action._id;\nreturn state;})});case\"UPDATE_BOOK\":return _objectSpread(_objectSpread({},state),{},{books:_toConsumableArray(state.books),loading:false});case\"LOADING\":return _objectSpread(_objectSpread({},state),{},{loading:true});default:return state;}};var StoreProvider=function StoreProvider(_ref){var _ref$value=_ref.value,value=_ref$value===void 0?[]:_ref$value,props=_objectWithoutProperties(_ref,[\"value\"]);var _useReducer=useReducer(reducer,{books:[],currentBook:{_id:0,title:\"\",authors:\"\",description:\"\",image:\"\",link:\"\"},saved:[],loading:false}),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];return/*#__PURE__*/_jsx(Provider,_objectSpread({value:[state,dispatch]},props));};var useStoreContext=function useStoreContext(){return useContext(StoreContext);};export{useStoreContext,StoreProvider};","map":{"version":3,"sources":["C:/Users/slypx/Desktop/code/HW21/book-search/client/src/utils/GlobalState.js"],"names":["React","createContext","useReducer","useContext","StoreContext","Provider","reducer","state","action","type","saved","payload","loading","books","filter","book","StoreProvider","value","props","currentBook","_id","title","authors","description","image","link","dispatch","useStoreContext"],"mappings":"msBAAA,MAAOA,CAAAA,KAAP,EAAgBC,aAAhB,CAA+BC,UAA/B,CAA2CC,UAA3C,KAA6D,OAA7D,C,2CAIA,GAAMC,CAAAA,YAAY,cAAGH,aAAa,EAAlC,C,GACQI,CAAAA,Q,CAAaD,Y,CAAbC,Q,CAER,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACC,KAAD,CAAQC,MAAR,CAAmB,CAC/B,OAAQA,MAAM,CAACC,IAAf,EACI,IAAK,UAAL,CACI,sCACOF,KADP,MAEIG,KAAK,CAAE,CAACF,MAAM,CAACG,OAAR,CAFX,CAGIC,OAAO,CAAE,KAHb,GAKJ,IAAK,WAAL,CACI,sCACOL,KADP,MAEIM,KAAK,CAAE,CAACL,MAAM,CAACG,OAAR,CAFX,CAGIC,OAAO,CAAE,KAHb,GAMJ,IAAK,aAAL,CACI,sCACOL,KADP,MAEIM,KAAK,CAAEN,KAAK,CAACM,KAAN,CAAYC,MAAZ,CAAmB,SAACC,IAAD,CAAU,CAChC;AACA,MAAOR,CAAAA,KAAP,CACH,CAHM,CAFX,GAQJ,IAAK,aAAL,CACI,sCACOA,KADP,MAEIM,KAAK,oBAAMN,KAAK,CAACM,KAAZ,CAFT,CAGID,OAAO,CAAE,KAHb,GAMJ,IAAK,SAAL,CACI,sCACOL,KADP,MAEIK,OAAO,CAAE,IAFb,GAKJ,QACI,MAAOL,CAAAA,KAAP,CArCR,CAuCH,CAxCD,CA0CA,GAAMS,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,MAA8B,qBAA3BC,KAA2B,CAA3BA,KAA2B,qBAAnB,EAAmB,YAAZC,KAAY,0DACtBhB,UAAU,CAACI,OAAD,CAAU,CAC1CO,KAAK,CAAE,EADmC,CAE1CM,WAAW,CAAE,CACTC,GAAG,CAAE,CADI,CAETC,KAAK,CAAE,EAFE,CAGTC,OAAO,CAAE,EAHA,CAITC,WAAW,CAAE,EAJJ,CAKTC,KAAK,CAAE,EALE,CAMTC,IAAI,CAAE,EANG,CAF6B,CAU1Cf,KAAK,CAAE,EAVmC,CAW1CE,OAAO,CAAE,KAXiC,CAAV,CADY,4CACzCL,KADyC,iBAClCmB,QADkC,iBAehD,mBAAO,KAAC,QAAD,gBAAU,KAAK,CAAE,CAACnB,KAAD,CAAQmB,QAAR,CAAjB,EAAwCR,KAAxC,EAAP,CACH,CAhBD,CAkBA,GAAMS,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAM,CAC1B,MAAOxB,CAAAA,UAAU,CAACC,YAAD,CAAjB,CACH,CAFD,CAIA,OAASuB,eAAT,CAA0BX,aAA1B","sourcesContent":["import React, { createContext, useReducer, useContext } from \"react\";\r\n\r\n\r\n\r\nconst StoreContext = createContext();\r\nconst { Provider } = StoreContext;\r\n\r\nconst reducer = (state, action) => { \r\n    switch (action.type) {\r\n        case \"ADD_BOOK\":\r\n            return {\r\n                ...state,\r\n                saved: [action.payload],\r\n                loading: false\r\n            };\r\n        case \"FIND_BOOK\":\r\n            return {\r\n                ...state,\r\n                books: [action.payload],\r\n                loading: false\r\n            };\r\n        \r\n        case \"REMOVE_BOOK\":\r\n            return {\r\n                ...state,\r\n                books: state.books.filter((book) => {\r\n                    // return book._id !== action._id;\r\n                    return state\r\n                })\r\n            };\r\n\r\n        case \"UPDATE_BOOK\":\r\n            return{\r\n                ...state,\r\n                books: [...state.books],\r\n                loading: false\r\n            };\r\n\r\n        case \"LOADING\":\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nconst StoreProvider = ({ value = [], ...props }) => {\r\n    const [state, dispatch] = useReducer(reducer, {\r\n        books: [],\r\n        currentBook: {\r\n            _id: 0,\r\n            title: \"\",\r\n            authors: \"\",\r\n            description: \"\",\r\n            image: \"\",\r\n            link: \"\"\r\n        },\r\n        saved: [],\r\n        loading: false\r\n    });\r\n\r\n    return <Provider value={[state, dispatch]} {...props} />;\r\n};\r\n\r\nconst useStoreContext = () => {\r\n    return useContext(StoreContext);\r\n};\r\n\r\nexport { useStoreContext, StoreProvider };"]},"metadata":{},"sourceType":"module"}