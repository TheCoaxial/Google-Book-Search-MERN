{"ast":null,"code":"import _slicedToArray from\"C:/Users/slypx/Desktop/code/HW21/book-search/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect}from\"react\";import BookResults from\"../ResultList\";// import { ListItem, List } from \"../ResultList\";\nimport DelBtn from\"../DeleteButton\";import{useStoreContext}from\"../../utils/GlobalState\";import API from\"../../utils/API\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function BookList(){var _useStoreContext=useStoreContext(),_useStoreContext2=_slicedToArray(_useStoreContext,2),state=_useStoreContext2[0],dispatch=_useStoreContext2[1];var removeBook=function removeBook(id){API.deleteBook(id).then(function(){dispatch({type:\"REMOVE_BOOK\",_id:id});}).catch(function(err){return console.log(err);});};useEffect(function(){API.getBooks(\"/books\").then(function(response){// console.log(\"Response\" + response)\ndispatch({type:\"LOADING\"});dispatch({type:\"ADD_BOOK\",payload:response.data});console.log(response);});},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Saved Books\"}),/*#__PURE__*/_jsx(\"h4\",{children:\"Click the X to remove a book\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{children:state.saved[0]?/*#__PURE__*/_jsx(BookResults,{children:state.saved[0].map(function(book){return/*#__PURE__*/_jsxs(\"strong\",{children:[console.log(\"Hi\",book),book.title,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"img\",{src:book.image}),/*#__PURE__*/_jsx(DelBtn,{onClick:function onClick(){return removeBook(book._id);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{})]});})}):/*#__PURE__*/_jsx(\"h3\",{children:\"You haven't added any books yet!\"})})]});}export default BookList;","map":{"version":3,"sources":["C:/Users/slypx/Desktop/code/HW21/book-search/client/src/components/BookList/index.js"],"names":["React","useEffect","BookResults","DelBtn","useStoreContext","API","BookList","state","dispatch","removeBook","id","deleteBook","then","type","_id","catch","err","console","log","getBooks","response","payload","data","saved","map","book","title","image"],"mappings":"0KAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CACA;AACA,MAAOC,CAAAA,MAAP,KAAmB,iBAAnB,CACA,OAASC,eAAT,KAAgC,yBAAhC,CACA,MAAOC,CAAAA,GAAP,KAAgB,iBAAhB,C,wFAKA,QAASC,CAAAA,QAAT,EAAoB,sBACUF,eAAe,EADzB,sDACTG,KADS,sBACFC,QADE,sBAGhB,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAAAC,EAAE,CAAI,CACrBL,GAAG,CAACM,UAAJ,CAAeD,EAAf,EACCE,IADD,CACM,UAAK,CACPJ,QAAQ,CAAC,CACLK,IAAI,CAAE,aADD,CAELC,GAAG,CAAEJ,EAFA,CAAD,CAAR,CAMH,CARD,EASCK,KATD,CASO,SAAAC,GAAG,QAAIC,CAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAJ,EATV,EAUH,CAXD,CAeAf,SAAS,CAAC,UAAM,CACZI,GAAG,CAACc,QAAJ,CAAa,QAAb,EACMP,IADN,CACW,SAAAQ,QAAQ,CAAI,CAEf;AACAZ,QAAQ,CAAC,CAACK,IAAI,CAAE,SAAP,CAAD,CAAR,CACAL,QAAQ,CAAC,CAACK,IAAI,CAAE,UAAP,CAAmBQ,OAAO,CAAED,QAAQ,CAACE,IAArC,CAAD,CAAR,CAECL,OAAO,CAACC,GAAR,CAAYE,QAAZ,EACJ,CARL,EASH,CAVQ,CAUN,EAVM,CAAT,CAcA,mBACI,oCACI,mCADJ,cAEI,oDAFJ,cAGI,aAHJ,cAII,qBACCb,KAAK,CAACgB,KAAN,CAAY,CAAZ,eACG,KAAC,WAAD,WACKhB,KAAK,CAACgB,KAAN,CAAY,CAAZ,EAAeC,GAAf,CAAmB,SAAAC,IAAI,qBAEpB,0BACKR,OAAO,CAACC,GAAR,CAAY,IAAZ,CAAkBO,IAAlB,CADL,CAECA,IAAI,CAACC,KAFN,cAGA,aAHA,cAIA,YAAK,GAAG,CAAED,IAAI,CAACE,KAAf,EAJA,cAKC,KAAC,MAAD,EAAQ,OAAO,CAAE,yBAAMlB,CAAAA,UAAU,CAACgB,IAAI,CAACX,GAAN,CAAhB,EAAjB,EALD,cAMA,aANA,cAOA,aAPA,GAFoB,EAAvB,CADL,EADH,cAiBG,wDAlBJ,EAJJ,GADJ,CAgCH,CAED,cAAeR,CAAAA,QAAf","sourcesContent":["import React, { useEffect } from \"react\";\r\nimport BookResults from \"../ResultList\";\r\n// import { ListItem, List } from \"../ResultList\";\r\nimport DelBtn from \"../DeleteButton\";\r\nimport { useStoreContext } from \"../../utils/GlobalState\";\r\nimport API from \"../../utils/API\";\r\n\r\n\r\n\r\n\r\nfunction BookList() {\r\n    const [state, dispatch] = useStoreContext();\r\n    \r\n    const removeBook = id => {\r\n        API.deleteBook(id)\r\n        .then(() =>{\r\n            dispatch({\r\n                type: \"REMOVE_BOOK\",\r\n                _id: id\r\n            });\r\n            \r\n            \r\n        })\r\n        .catch(err => console.log(err));\r\n    };\r\n    \r\n    \r\n    \r\n    useEffect(() => {\r\n        API.getBooks(\"/books\")\r\n             .then(response => {\r\n                \r\n                // console.log(\"Response\" + response)\r\n                dispatch({type: \"LOADING\"});\r\n                dispatch({type: \"ADD_BOOK\", payload: response.data});\r\n                \r\n                 console.log(response );\r\n            })\r\n    }, []);\r\n    \r\n\r\n    \r\n    return (\r\n        <div>\r\n            <h1>Saved Books</h1>\r\n            <h4>Click the X to remove a book</h4>\r\n            <br></br>\r\n            <div>\r\n            {state.saved[0] ? (\r\n                <BookResults>\r\n                    {state.saved[0].map(book => (\r\n                     \r\n                        <strong>\r\n                            {console.log(\"Hi\", book )}\r\n                        {book.title} \r\n                        <br></br>\r\n                        <img src={book.image}></img>\r\n                        {<DelBtn onClick={() => removeBook(book._id)} />}  \r\n                        <br></br>\r\n                        <br></br>\r\n                        </strong>\r\n                    ))}\r\n                    \r\n                </BookResults>\r\n            ) : (\r\n                <h3>You haven't added any books yet!</h3>\r\n            )}\r\n            </div>\r\n            \r\n            \r\n        </div>\r\n        \r\n        \r\n    )\r\n}\r\n\r\nexport default BookList;"]},"metadata":{},"sourceType":"module"}